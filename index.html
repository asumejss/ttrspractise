  <div class="question hidden" id="question">Loading...</div>
  <div class="options hidden" id="options"></div>
  <div class="score hidden" id="score">Score: 0</div>
  <div class="result hidden" id="result"></div>

  <script>
    const correctSound = new Audio('https://cdn.pixabay.com/download/audio/2021/08/04/audio_7b55db4ff9.mp3?filename=correct-2-46134.mp3');
    const wrongSound = new Audio('https://cdn.pixabay.com/download/audio/2021/08/09/audio_41fc1c19c7.mp3?filename=error-126627.mp3');
    const startSound = new Audio('https://cdn.pixabay.com/download/audio/2021/09/13/audio_a162d58fc2.mp3?filename=beep-start-6022.mp3');
    const gameoverSound = new Audio('https://cdn.pixabay.com/download/audio/2021/08/09/audio_e28597c883.mp3?filename=game-over-arcade-6435.mp3');

    const tables = [3, 4, 6, 7, 8, 9, 11, 12];
    let score = 0;
    let incorrect = 0;
    let timeLeft = 0;
    let timerInterval;

    function getRandomQuestion() {
      const a = tables[Math.floor(Math.random() * tables.length)];
      const b = Math.floor(Math.random() * 12) + 1;
      const answer = a * b;
      return { a, b, answer };
    }

    function generateOptions(correct) {
      const options = new Set([correct]);
      while (options.size < 4) {
        options.add(correct + Math.floor(Math.random() * 20 - 10));
      }
      return Array.from(options).sort(() => Math.random() - 0.5);
    }

    function displayQuestion() {
      const q = getRandomQuestion();
      const questionDiv = document.getElementById("question");
      const optionsDiv = document.getElementById("options");

      questionDiv.textContent = `${q.a} Ã— ${q.b} = ?`;
      optionsDiv.innerHTML = "";

      const options = generateOptions(q.answer);
      options.forEach(opt => {
        const btn = document.createElement("button");
        btn.className = "option";
        btn.textContent = opt;
        btn.onclick = () => {
          if (opt === q.answer) {
            correctSound.play();
            score++;
          } else {
            wrongSound.play();
            incorrect++;
          }
          document.getElementById("score").textContent = "Score: " + score;
          displayQuestion();
        };
        optionsDiv.appendChild(btn);
      });
    }

    function startTimer(duration) {
      timeLeft = duration;
      updateTimerDisplay();
      timerInterval = setInterval(() => {
        timeLeft--;
        updateTimerDisplay();
        if (timeLeft <= 0) {
          endGame();
        }
      }, 1000);
    }

    function updateTimerDisplay() {
      const min = Math.floor(timeLeft / 60);
      const sec = timeLeft % 60;
      document.getElementById("timer").textContent = `Time: ${min}:${sec.toString().padStart(2, '0')}`;
    }

    function startGame() {
      startSound.play();
      score = 0;
      incorrect = 0;
      document.getElementById("score").textContent = "Score: 0";
      document.getElementById("result").classList.add("hidden");
      document.getElementById("question").classList.remove("hidden");
      document.getElementById("options").classList.remove("hidden");
      document.getElementById("score").classList.remove("hidden");

      const selectedMinutes = parseInt(document.getElementById("timeSelect").value);
      const totalSeconds = selectedMinutes * 60;
      startTimer(totalSeconds);
      displayQuestion();
    }

    function endGame() {
      clearInterval(timerInterval);
      gameoverSound.play();
      document.getElementById("question").classList.add("hidden");
      document.getElementById("options").classList.add("hidden");

      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = `Time's up!<br>Final Score: ${score}<br>Incorrect: ${incorrect}`;
      resultDiv.classList.remove("hidden");
    }
  </script>
</body>
</html>
